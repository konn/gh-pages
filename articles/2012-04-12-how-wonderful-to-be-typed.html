<!DOCTYPE html><!--[if lt IE 7]>      <html lang="ja" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if IE 7]>         <html lang="ja" class="no-js lt-ie9 lt-ie8"> <![endif]--><!--[if IE 8]>         <html lang="ja" class="no-js lt-ie9"> <![endif]--><!--[if gt IE 8]><!--><html lang="ja" class="no-js"><!--<![endif]--><!--[if !IE]><html lang="ja"><![endif]--><head>
  <meta charset="utf-8">
  <title>How wonderful to be (statically) typed 〜（静的に）型がつくって素晴しい〜 - konn-san.com</title>
  <meta name="author" content="Hiromi ISHII">
  <meta name="Keywords" content><meta name="description" content="Haskellの型システムの強力さとその工学的な応用例についての発表。
">
  <link href="/katex/katex.min.css" type="text/css" rel="stylesheet">
  <meta name="viewport" content="width=device-width">
  <link rel="canonical" href="https://konn-san.com/articles/2012-04-12-how-wonderful-to-be-typed.html">
  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Atom Feed">
  <link href="/css/bootstrap.min.css" rel="stylesheet" media="screen">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/css/syntax.css" rel="stylesheet" media="screen">
  <link href="/css/style.css" rel="stylesheet" media="screen">
  


  <script src="//b.st-hatena.com/js/bookmark_button_wo_al.js" async="async">
  </script>
  <script src="/js/vendor/modernizr-2.6.2.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML" async="async"></script>
  <script src="//s.hatena.ne.jp/js/HatenaStar.js"></script>
  <script>
  Hatena.Star.Token = '7bf3845df18764ea7bfa120294f8c5ed1cd371e9';
  Hatena.Star.SiteConfig = {
    entryNodes: {
      'div.container': {
        uri: 'window.location',
        title: 'document.title',
        container: 'ul#socials li#hatena-star'
      }
    }
  };
  </script>
  <!-- Twitter Card -->
  <meta property="twitter:card" content="summary">
  <meta property="twitter:site" content="@mr_konn">
  <meta property="og:url" content="https://konn-san.com/articles/2012-04-12-how-wonderful-to-be-typed.html">
  <meta property="og:title" content="How wonderful to be (statically) typed 〜（静的に）型がつくって素晴しい〜">
  <meta property="og:description" content="Haskellの型システムの強力さとその工学的な応用例についての発表。 ">
  <meta property="og:image" content="https://konn-san.com/img/myface_mosaic.jpg">
  <!-- /Twitter Card -->
</head>
<body>
  <!--[if lt IE 7]>
    <p class="chromeframe">Sorry, this site doesn't support IE version &lt;7. <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
  <![endif]-->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" href="/">konn-san.com</a>
  <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#Navbar" aria-controls="Navbar" aria-expanded="false" aria-label="toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="Navbar">
    <ul class="navbar-nav mr-auto">
     <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
     <li class="nav-item"><a class="nav-link" href="/profile.html">Profile</a></li>
     <li class="nav-item"><a class="nav-link" href="/math">Math</a></li>
     <li class="nav-item"><a class="nav-link" href="/prog">Tech</a></li>
     <li class="nav-item"><a class="nav-link" href="/writing">Writings</a></li>
     <li class="nav-item active"><a class="nav-link" href="/articles">Articles</a></li>
     <li class="nav-item"><a class="nav-link" href="/logs">Logs</a></li>
     <li class="nav-item"><a class="nav-link" href="/archive.html">Archive</a></li>
    </ul>
    <form class="form-inline my-2 my-lg-0" action="https://cse.google.com/" target="_blank">
      <input type="hidden" name="cx" value="008926939897329001532:wsmollxek8o">
      <input class="form-control mr-sm-2" type="text" name="q" placeholder="Search" aria-label="Search" required>
      <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">
        <i class="fa fa-search"></i>
      </button>
    </form>
  </div>
</nav>

  <div class="container">
   <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">konn-san.com 建設予定地</a></li>
    <li class="breadcrumb-item"><a href="/articles/">Blog</a></li>
  <li class="li breadcrumb-item active">How wonderful to be (statically) typed 〜（静的に）型がつくって素晴しい〜</li>
</ol>

    <div class="page-header">
    <h1>How wonderful to be (statically) typed 〜（静的に）型がつくって素晴しい〜 <small>konn-san.com</small></h1>
    <div id="social">
      <i class="fa fa-bookmark" aria-hidden="true"></i>
      <ul id="socials">
      <li id="facebook">
      <div class="fb-like" data-href="https://konn-san.com/articles/2012-04-12-how-wonderful-to-be-typed.html" data-send="false" data-layout="button_count" data-width="450" data-show-faces="true"></div>
      </li><li id="hatena-bookmarks">
        <a href="//b.hatena.ne.jp/entry/https://konn-san.com/articles/2012-04-12-how-wonderful-to-be-typed.html" class="hatena-bookmark-button" data-hatena-bookmark-title="How wonderful to be (statically) typed 〜（静的に）型がつくって素晴しい〜 - konn-san.com" data-hatena-bookmark-layout="simple-balloon" title="このエントリーをはてなブックマークに追加"><img src="//b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;"></a><script src="//b.st-hatena.com/js/bookmark_button.js" async="async"></script>
      </li><li>
      <script src="//apis.google.com/js/plusone.js"></script>
      <div class="g-plusone" data-size="standard" data-count="true"></div>
      </li><li>
      <a href="//twitter.com/share" class="twitter-share-button" data-via="mr_konn" data-lang="ja">ツイート</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
      </li><li id="hatena-star">
      </li></ul>
    </div>
    <div><i class="fa fa-calendar" aria-hidden="true"></i> posted on 2012/04/12 22:19:08 JST</div>
    </div>
    <hr>
        <div id="page-main" data-offset="0" class="page-content text-justify" data-spy="scroll" data-target="#side-toc">
          <section id="発表内容の紹介" class="level1">
<h2>発表内容の紹介</h2>
<p>PFI の全体セミナーで「How wonderful to be (statically) typed
〜（静的に）型が付くってスバラシイ〜」と云うタイトルの発表を行いました。</p>
<p>内容としては、Haskell
に限らず、強力な型システムと型推論によってもたらされる記述力と、それを応用した実用的な技術についての解説……の予定でしたが、時間が足らずにHaskell
の布教だけで終わってしまいました orz</p>
<p>発表で言及した <sup><a href="#fn1" id="fnref1" class="footnoteRef">1</a></sup> 応用例の一覧は下の通りです。</p>
<ul>
<li>型クラスによるデータ操作の抽象化<sup>★</sup></li>
<li>静的で型安全なキャスト用クラス<sup>★</sup></li>
<li>キーの型ごとに最適なデータ構造を自動的に選択<sup>★</sup></li>
<li>型エラーが出ないことが静的に保証されている抽象構文木<sup>★</sup></li>
<li>高速かつ純粋な破壊的代入を実現する方法<sup>★</sup></li>
<li>効率的で外部へのリソース漏れがないことが静的に保証されるリソース制御<sup>★</sup></li>
<li>リージョン推論によるメモリ確保・解放の自動推論</li>
<li>整合性が静的に保証されたスレッド/ネットワーク通信<sup>☆</sup></li>
<li>範囲外アクセスを静的に防止するための長さ付きリスト<sup>★</sup></li>
<li>msgpack の serialize/ deserialize
の実装がそれぞれ逆演算になっていることの静的な証明</li>
<li>挿入が順序を保つ証明から、挿入ソート函数を自動抽出する手法</li>
</ul>
<p>これらの技術を説明するために紹介したのが、以下の型機能です。</p>
<ol type="1">
<li>型とは何か？──型付け、型推論、型安全</li>
<li>強力で wonderful な型システムの紹介
<ul>
<li>型クラス</li>
<li>型族（関連型）</li>
<li>幽霊型とランク2多相</li>
<li>Data Type Promotion</li>
</ul></li>
<li>依存型（存在の紹介のみに留まりました……）</li>
</ol>
<p>本来ならば、依存型と定理証明の辺りももうちょっと詳しく言及して、「Haskell
の布教だけじゃなかったでしょ？（ﾄﾞﾔｧ」って云いたかったんですが、いかんせん準備時間がたりませんでした……ぐぬぬ。</p>
<section id="スライドおよび発表の模様" class="level2">
<h3>スライドおよび発表の模様</h3>
<p>以下が発表スライドです。<a href="http://www.ustream.tv/recorded/21781769">Ustream
で発表時の映像も公開</a>
されていますので、観てやろうと云う奇異な方はどうぞ。</p>
<div id="__ss_12513613" style="width:425px">
<strong><a href="http://www.slideshare.net/konn/how-wonderful-to-be-statically-typed" target="_blank" title="How wonderful to be (statically) typed 〜型が付くってスバラシイ〜">How
wonderful to be (statically) typed
〜型が付くってスバラシイ〜</a></strong>
<iframe src="http://www.slideshare.net/slideshow/embed_code/12513613" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no">
</iframe>
<div style="padding:5px 0 12px">
View more <a href="http://www.slideshare.net/" target="_blank">presentations</a> from <a href="http://www.slideshare.net/konn" target="_blank">Hiromi Ishii</a>
</div>
</div>
</section>
</section>
<section id="反省" class="level1">
<h2>反省</h2>
<ul>
<li>もうちょっと応用に的を絞って、理論背景の説明は省いてもよかった</li>
<li>Haskell 以外の話題をもう少し入れるべき
<ul>
<li>Haskell
とか知らない人向けで書いたつもりが、知らないとけっこう難しかったかもしれない……。</li>
<li>「こんなことができます！」と応用を紹介してから理論背景の説明に入ると盛り上がったかもしれない。</li>
</ul></li>
<li>C++ とか全然わからないのに言及してごめんなさいゆるして……。</li>
</ul>
</section>
<section id="参考文献" class="level1">
<h2>参考文献</h2>
<p>発表スライドにも載っていますが、参考にした文献を以下に挙げます。</p>
<ol type="1">
<li>”<a href="http://research.microsoft.com/en-us/um/people/simonpj/papers/assoc-types/fun-with-type-funs/typefun.pdf">Fun
with type functions</a>“, Oleg Kiselyov, Simon Peyton Jones and
Chung-chieh Shan, 2010
<ul>
<li>開発者向けの型族や関連型の機能紹介と例が豊富に載っています。型族の例の殆んどはこちらから引きました。</li>
</ul></li>
<li>“<a href="http://research.microsoft.com/en-us/people/dimitris/fc-kind-poly.pdf">Giving
Haskell a Promotion</a>”,B. A. Yorgey, S. Weirich, J. Cretin, Simon
Peyton Jones and D. Vytiniotis, 2011
<ul>
<li>データ型の、型レベルへの持ち上げ機能（Data
Kinds）の紹介論文です。</li>
</ul></li>
<li>“<a href="http://okmij.org/ftp/Computation/resource-aware-prog/region-io.pdf">Lightweight
Monadic Regions</a>”, Oleg Kiselyov, Chung-chieh Shan, 2008
<ul>
<li>リージョンによるリソース管理を、phantom type と type-class
の機能により実現する話です。例もこちらからひきました。</li>
</ul></li>
<li>“<a href="http://okmij.org/ftp/Haskell/regions.html">Region-based
resource management</a>”, Oleg Kiselyov, 2011
<ul>
<li>上のリージョンの実装以外にも、幾つか Haskell の型と Region
に関する話題が載っています。Heavy
weightな実装とか、動的な演算をトラックするリージョンの話題など。</li>
</ul></li>
<li>“<a href="http://www.iis.sinica.edu.tw/~scm/pub/aopa.pdf">Algebra of
Programming in Agda</a>”, Shin-Cheng Mu, Hsiang-Shang Ko, Patrik
Jansson, 2009
<ul>
<li>依存型の機能を使って、証明からアルゴリズムを抽出する話などが載っている、らしいです。らしい、と云うのは読めなかったからで、従って全然紹介出来ませんでした。</li>
</ul></li>
<li>“<a href="http://www.yesodweb.com/">Yesod Web Framework for
Haskell</a>”
<ul>
<li>型族の機能をふんだんに用いたモダンなWebフレームワーク Yesod
のページです。例が細かくなってしまうので、今回は紹介も説明も出来ませんでした。</li>
</ul></li>
<li>“<a href="http://ja.wikipedia.org/wiki/%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B">データ型
- Wikipedia</a>”, Wikipedia</li>
<li>“<a href="http://en.wikipedia.org/wiki/Type_safety">Type safety -
Wikipedia</a>”, Wikipedia
<ul>
<li>うぃきぺ先生はなんでもしってるなー。</li>
</ul></li>
<li>“<a href="http://www.haskell.org/haskellwiki/Phantom_type">Phantom
type - HaskellWiki</a>”, HaskellWiki
<ul>
<li>幽霊型の定義を確認するのに使いました。あってた。よかった。応用例とか色々載ってます。GADTs
の話は載ってませんが。</li>
</ul></li>
<li>“<a href="http://d.hatena.ne.jp/keigoi/20091125/1259167967">full-sessions-0.6.1</a>”,
id:keigoi
<ul>
<li>作者である keigoi
さんによる、セッション型ライブラリの解説です。セッション型、と云うのは、チャンネルを介したスレッドやネットワーク通信が整合的に行われていることを、型で静的に保証する手法です。</li>
</ul></li>
<li>“<a href="http://www.iij-ii.co.jp/lab/techdoc/coqt/">プログラミングCoq</a>”,
池渕未来
<ul>
<li>当初は定理証明についても幾つか言及しようと思っていたので、Coq
での証明駆動開発の日本語入門文献として挙げておきました。結果的には殆んど何も云えなかったんですが……。</li>
</ul></li>
</ol>
<section class="footnotes">
<hr>
<ol>
<li><div id="fn1">
<p>解説とか採り上げた、ではなくあくまで言及した、です。物によっては名前出しただけですね……。ちゃんと解説したものには★を付けてあります。軽く説明したものは☆です。名前だけ出した、ものは何も付いてません。<a href="#fnref1">↩︎</a></p>
</div></li>
</ol>
</section>
</section>
          <hr>
          <!-- DISQUS -->
          <section id="disqus_area" class="mx-1 mx-md-3 mx-lg-5">
            <h2>Comments</h2>
          <div id="disqus_thread"></div>
          <script>
          var disqus_config = function () {
          this.page.url = "https://konn-san.com/articles/2012-04-12-how-wonderful-to-be-typed.html";
          this.page.identifier = "/articles/2012-04-12-how-wonderful-to-be-typed.html";
          };
          (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = 'https://konn-san.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          </section>
          <!-- /DISQUS -->
        </div>
      </div>
  <footer>
      <p>
        <a href="//validator.w3.org/check?uri=https%3A%2F%2Fkonn-san.com/articles/2012-04-12-how-wonderful-to-be-typed.html">
          <img src="/img/HTML5_Logo_32.png" height="32" alt="HTML5">
	</a>
	<br>
	Powered by <a href="https://shakebuild.com">Shake</a>,
        <a href="https://github.com/konn/sake">Sake</a>,
	<a href="http://johnmacfarlane.net/pandoc/">Pandoc</a>,
	<a href="https://khan.github.io/KaTeX/">KaTeX</a>,
	<a href="https://www.mathjax.org">MathJax</a>,
        and <a href="https://docs.github.com/ja/pages/getting-started-with-github-pages/about-github-pages">GitHub Pages</a>.
	<br>
	Copyright © Hiromi ISHII 2012-2022
      </p>
    </footer>
  <script src="//code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script>
      var _gaq=[['_setAccount','UA-29894567-2'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>


</body></html>
